{
  "name": "Order Service - P95 Latency Threshold Alert",
  "tags": [
    "workshop",
    "order-service",
    "latency",
    "threshold"
  ],
  "params": {
    "index": ["metrics-*"],
    "timeField": "@timestamp",
    "aggType": "avg",
    "aggField": "transaction.duration.histogram",
    "groupBy": "all",
    "filterKuery": "service.name:order-service AND transaction.name:\"POST /api/orders\"",
    "threshold": [2000000],
    "thresholdComparator": ">",
    "timeWindowSize": 5,
    "timeWindowUnit": "m"
  },
  "consumer": "alerts",
  "schedule": {
    "interval": "1m"
  },
  "rule_type_id": ".index-threshold",
  "actions": [],
  "enabled": true
}
