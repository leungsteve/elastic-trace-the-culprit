# =============================================================================
# From Commit to Culprit - Instruqt Environment
# =============================================================================
# This file is auto-populated by Instruqt setup scripts
# DO NOT manually edit these values - they are injected at runtime

# -----------------------------------------------------------------------------
# Environment Detection
# -----------------------------------------------------------------------------
# Set to 'instruqt' to enable Instruqt-specific behaviors
ENVIRONMENT=instruqt

# -----------------------------------------------------------------------------
# Elastic Cloud Serverless Connection
# -----------------------------------------------------------------------------
# These values are automatically provisioned for each participant's sandbox:
# - Each participant gets a dedicated Elastic Cloud Serverless project
# - Credentials are injected by the setup.sh script in challenge 01
# - The setup script reads these from Instruqt variables and writes them here
#
# Variables populated by Instruqt:
# - INSTRUQT_ELASTIC_ENDPOINT -> ELASTIC_ENDPOINT
# - INSTRUQT_ELASTIC_API_KEY -> ELASTIC_API_KEY
# - INSTRUQT_KIBANA_URL -> KIBANA_URL
# - INSTRUQT_OTEL_ENDPOINT -> OTEL_EXPORTER_OTLP_ENDPOINT
# - INSTRUQT_OTEL_API_KEY -> OTEL_EXPORTER_OTLP_HEADERS

ELASTIC_ENDPOINT=__INSTRUQT_ELASTIC_ENDPOINT__
ELASTIC_API_KEY=__INSTRUQT_ELASTIC_API_KEY__
KIBANA_URL=__INSTRUQT_KIBANA_URL__

# OpenTelemetry collector endpoint for direct ingestion
OTEL_EXPORTER_OTLP_ENDPOINT=__INSTRUQT_OTEL_ENDPOINT__
OTEL_EXPORTER_OTLP_HEADERS=Authorization="ApiKey __INSTRUQT_OTEL_API_KEY__"

# -----------------------------------------------------------------------------
# Webhook URL (for automated rollback workflow)
# -----------------------------------------------------------------------------
# In Instruqt, the webhook service is accessible via the sandbox's public URL
# This is constructed by the setup script using the Instruqt hostname variable
#
# Example: https://{INSTRUQT_PARTICIPANT_ID}-9000.instruqt.io/webhook
#
# The setup script will:
# 1. Detect the public hostname
# 2. Construct the webhook URL with port 9000
# 3. Update this value
# 4. Create the webhook connector in Kibana

WEBHOOK_PUBLIC_URL=__INSTRUQT_WEBHOOK_URL__

# -----------------------------------------------------------------------------
# Container Registry
# -----------------------------------------------------------------------------
# Local Docker registry for pre-built workshop images
# Same as local development - uses localhost:5000
REGISTRY=localhost:5000

# -----------------------------------------------------------------------------
# Service Versions
# -----------------------------------------------------------------------------
# Controls which version of each service is deployed
#
# v1.0 = Healthy baseline version (deployed in Challenge 01)
# v1.1-bad = Contains the buggy "optimization" (deployed in Challenge 02)
#
# The deploy.sh script modifies these values during the workshop

ORDER_SERVICE_VERSION=v1.0
INVENTORY_SERVICE_VERSION=v1.0
PAYMENT_SERVICE_VERSION=v1.0

# -----------------------------------------------------------------------------
# Business Constants
# -----------------------------------------------------------------------------
# Used by Agent Builder tools to calculate business impact
# Average order value for NovaMart (fictional e-commerce company)
AVERAGE_ORDER_VALUE=47.50
